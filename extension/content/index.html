<html>

<head>
  <base href="chrome://jetpack/content/"/>
  <base target="_blank"/>
  <link rel="stylesheet" type="text/css" media="all"
        href="css/index.css" />
  <title>I am Jetpack.</title>
</head>

<body>
<div id="content">

<!-- MASTHEAD -->

<img src="gfx/jetpack.png"/><br/>  

<!-- TABS -->

<div id="container">
  <ul class="tabs">
    <li><a href="#welcome"><span>Welcome</span></a></li>
    <li><a href="#develop"><span>Develop</span></a></li>
    <li><a href="#installed"><span>Installed Features</span></a></li>
    <li><a href="#memory"><span>Memory Usage</span></a></li>
    <li><a href="#tests"><span>Test Suite</span></a></li>      
    <li><a href="#tutorial"><span>Tutorial</span></a></li>
    <li><a href="#api"><span>API Reference</span></a></li>
  </ul>  
  
  <!-- WELCOME TAB -->

  <div id="welcome">
    <h1>I am Jetpack. Welcome.</h1>
    <p><i>Exploring new ways to extend &amp; personalize the Web.</i></p>
    
    <p>The <a href="https://addons.mozilla.org">add-ons community for
      Firefox</a> is arguably one of the largest, most vibrant sources
      for innovation on the Web today.  If you want to affect people,
      to reach them and make a difference in their daily lives, the
      Firefox <a
      href="https://developer.mozilla.org/En/Developing_add-ons">add-ons
      platform</a> is hard to beat, with over
    <a
      href="http://blog.mozilla.com/addons/2008/11/19/1-billion-add-on-downloads/">one
      billion installs of Firefox add-ons to date</a>.
    </p>

    <p>However, we've only scratched the surface of its potential.</p>

    <p>Jetpack lets you build Firefox (and more!) extensions with the
      same skill-set you already know from building on the open Web:
      Javascript, HTML, and CSS. We've even got jQuery included by
      default to ease you into it.</p>
      
    <p>Make sure to visit the <a href="https://jetpack.mozillalabs.com/">Jetpack website</a>!</p>
      
    <h2>Demo Jetpack Features</h2>
    
    <ul>
      <li><a href="demos/unad-install.html">UnAd - Content Filter Demo</a> &mdash; Demonstrates in ~80 lines of code how to build a Jetpack feature that can remove unwanted scripts, images, and iframes with a pretty UI for turning the feature on and off. It uses a blocklist created for AdBlock Plus.<br/><br/></li>
      <li><a
      href="chrome://jetpack/content/demos/gmail-checker-install.html">Email Notifier - Status Bar Demo</a> &mdash; It's easy to make useful indicators, gauges, and ambient information displays when you have the full power of HTML and CSS. In this demo, we create a Gmail notifier in ~50 lines of code.</li>
    </ul>
  </div>
  
  
  <!-- DEVELOP TAB -->
  
  <div id="develop">
    <div class="developer-warnings"></div>
    <h2>Developing With Jetpack</h2>
    
    <p>If you want to create a Jetpack feature, use the editor
    below.</p> <p>Read the <span class="buttony
    tutorial-link">tutorial</span> for a quick tour of the
    basics&mdash;or, if you prefer, check out the <a
    href="chrome://jetpack/content/file.html#index.html#content/js/jetpack-library-doc.js">Jetpack
    Library documentation</a>.</p>

    <div class="editor-widget" id="editor-widget-container"></div>    
    <p><span class="buttony" id="reload-editor-code">try out this
    code</span></p>

    <p>If you want to hack on the Jetpack platform itself, the vast
    majority of it is contained in the <span class="buttony"
    id="this-page-source-code">source code for this page</span>. Just make
    local changes to the file or one of the scripts it refers to and
    reload this page.</p>

    <h2>About This Page</h2>
    <p>This page actually houses the Jetpack platform. All your Jetpacks
    are loaded in this page, and you can even use Firebug to inspect
    their current state.</p>
    <p>As a result, the lifetime of your Jetpacks is tied to the
    lifetime of this page. When you reload this page, for instance, all
    your Jetpacks are reloaded. This means that the time between making
    a change to a Jetpack and seeing its effects is as small as
    possible&mdash;you never have to restart your browser.</p>
    <p>Because it only makes sense for one instance of Jetpack to exist
    at a time, this page is what developers call a <i>singleton</i>:
    only one instance of it can exist at once.  Try opening this URL in
    two tabs at once and see what happens!</p>
    <p>Finally, the Jetpack singleton always exists, since users
    obviously need to be able to use their Jetpacks without having
    Jetpack open in a tab.  If you close the Jetpack tab, it'll actually
    re-open in a hidden browser that you can't see.</p> 
  </div>
  
  
  <!-- INSTALLED FEATURES TAB -->
  
  <div id="installed">
    <h2>Your Jetpack Features</h2>
    <div class="summary"></div>
    <div id="installed-jetpacks" class="jetpack-list">
    </div>
    <div id="uninstalled-jetpacks" class="jetpack-list">
      <p>These are your recently-uninstalled Jetpack Features. You can
      reinstall them easily from here, or you can purge them from this
      list so they no longer clutter this page.</p>
    </div>
  </div>

  <!-- MEMORY USAGE TAB -->
  
  <div id="memory">
    <h2>Memory Usage</h2>
    <p>Below is a list of all live objects being tracked by Jetpack. If
    one of these numbers never goes down, then your Jetpack either has a
    memory leak or isn't using memory very effectively.</p>
    <div id="extension-weakrefs"></div>
    <p id="memory-usage-actions"p>
      <span class="buttony" id="force-gc">force garbage collection</span>
    </p>
  </div>
    
  <!-- TEST SUITE TAB -->
  
  <div id="tests">
    <h2>Test Suites</h2>
    <p>At the moment, you can run the <span class="buttony"
    id="run-tests">Jetpack platform test suite</span>. In the future,
    you'll be able to run the test suites for individual Jetpacks
    here.</p>
    <p>All output for the suites is sent to the <span
    class="logging-source"></span>.</p>    
  </div>

  <!-- TUTORIAL TAB -->
  
  <div id="tutorial">
    <div class="developer-warnings"></div>
    <p>Welcome to the Jetpack API tutorial. By the end of this
    tutorial, you'll have learned how to make a Jetpack Feature that
    removes all embeds &mdash; Flash movies, etc &mdash; from a
    particular page or all websites. The code required is never more
    lines than a polydactylic man can count on both hands.</p>

    <h2>Chapter 0: Get going</h2>

    <p>One of the primary goals of Jetpack is to have development be a
    real-time adventure. We know that tight feedback loops, a good
    debugger, and instant gratification makes for happy coders. That's
    why refreshing a Jetpack Feature is literally as simple as
    refreshing a webpage, and why we try to have all errors be
    reported sensibly and with line number!</p>

    <p>Before we get started, you should know that this tutorial is
    actually interactive: if you click on one of the code snippets,
    it'll automatically install itself as a Jetpack feature and become
    editable, at which point you can tinker with the code to see what
    it does in real time. If you mess anything up, just reload this
    page to undo it.</p>

    <p>Let's get going. Remember that you can also always check out the
      <span class="tab-link" name="api">API Reference</a>.</p>

    <h2>Chapter 1: The boom stick</h2>

    <p>Admit it. Have you always wanted a button in your browser that
    let's you make things go boom? I know I have. So that's the first
    thing that we are going to make. Let's begin by adding a widget to
    the status bar that contains the prophetic message "Boom!":</p>

    <div class="example">
jetpack.statusBar.append({
  html: "Boom<i>!</i>"
});</div>

    <p>Just click the above code, and there it is, large as life
    in the status bar. Notice the conspicuous lack of restarts! As you
    can see, <code>statusBar.append</code> takes an options
    object. Instead of passing in html, you can use the
    <code>url</code> keyword and pass it a relative url.</p>

    <p>Right now the widget is probably way too wide &mdash; that's
    because we haven't yet added the auto-sizing feature to
    Jetpack. For now, you'll have to pass in the width.</p>

    <div class="example">
jetpack.statusBar.append({
  html: "Boom<i>!</i>",
  width: 45
});</div>

    <p>That's nice, but just having a "Boom!" in your status bar isn't
    all that exciting. Let's make it <i>do</i> something.</p>

    <div class="example">
jetpack.statusBar.append({
  html: "Boom<i>!</i>",
  width: 45,
  onReady: function(widget){
    $(widget).click(function(){
      console.log( jetpack.tabs );
    });
  }
});</div>

    <p>Now, whenever you click on the widget, it logs the
    <code>jetpack.tabs</code> object to the Firebug console. Instead
    of reinventing the wheel, to debug Jetpack Features we've made
    Firebug the tool of choice. It's easy to introspect to learn more
    &mdash; for instance by delving in, you'll quickly find the
    <code>jetpack.tabs.focused</code> object, which gives you access
    to the currently active tab.</p>

    <p>You can also see that we've automatically included jQuery by
    default&mdash;if you're unfamiliar with it, that's what the
    <tt>$</tt> function is all about, and you can learn more by
    reading the <a href="http://docs.jquery.com/Main_Page">jQuery
    Documentation</a>. In the future, we hope to include other
    libraries. Feel free to fiddle around with the code, and see what
    you come up with.</p>

    <p>Let's make our little Boom! widget do something more fun:</p>

    <div class="example">
jetpack.statusBar.append({
  html: "Boom<i>!</i>",
  width: 45,
  onReady: function(widget){
    $(widget).click(function(){
      jetpack.notifications.show( "Booming!" );
      $(jetpack.tabs.focused.contentDocument)
        .find("body")
        .css({backgroundColor:"blue"})
        .animate({opacity:.5});
    });
  }
});</div>

    <p>Give it a go and see what it does. Every <code>tab</code>
    object has a wealth of possible event listeners, and
    properties. Take a look via Firebug or check out the <a
    href="file.html#index.html">documentation</a>. Just like an
    iframe, one of the properties is <code>contentDocument</code>,
    which gives you access to the the equivalent of the document for
    the page in the specified tab. Alternatively, you can use
    <code>contentWindow</code> to get access to the object which
    houses the page's <code>.alert()</code> function, and so
    forth.</p>

    <p>When you want a light-weight way to inform your users of a bit
    of information, <code>jetpack.notifications.show()</code> may be
    the way to go. On Windows and Linux, these show up as <a
    href="http://en.wikipedia.org/wiki/Toast_(computing)">toast
    notifications</a> and on OS X as <a
    href="http://growl.info/">Growl notifications</a>.</p>

    <p>Let's turn away from our new-found ability to make pages blue,
    and instead to the ability to remove embeds from a page. It's one
    line of jQuery goodness.</p>

    <div class="example">
jetpack.statusBar.append({
  html: "Boom<i>!</i>",
  width: 45,
  onReady: function(widget){
    $(widget).click(function(){
      var doc = jetpack.tabs.focused.contentDocument;
      $(doc).find("embed").remove();
    });
  }
});</div>


    <p>Pretty good, huh? Less than ten lines of code gets us an
    on-demand embed killer.</p>
    
    <h2>Chapter 2: Distributing the boom</h2>
    
    <p>So you've got your feature written and you want to release it to the
    world. It's very easy to do &mdash; there's no special build step,
    or odd file format. All you need to do is drop the code in a file,
    let's call it "boom.js". Then in any page you want the feature to be
    installable, you add:</p>

    <p><code>&lt;link rel="jetpack" href="boom.js" name="Boom!"/&gt;</code>
    </p>

    <p>to the header. That's it. When you navigate to the page, a notification bar will
    drop down with the option to install the feature.</p>

    <h2>Chapter 3: The automatic boom</h2>

    <p>We can now get rid of embeds on demand, but that requires
    clicking the Boom! button on every page. What if we instead wanted
    to to enable/disable the functionality for all sites? That's where
    the magic of <code>jetpack.tabs.onReady</code> comes in. It allows
    you to code on every navigation action, just a new page loads but
    before iframes, images, and scripts are fetched. To wait until
    everything is loaded, you can use
    <code>jetpack.tabs.onLoad</code>. Jetpack takes care of all the
    difficult edge cases, like dealing with multiple windows and new
    tabs. Jetpack also handles removing event handlers when you reload
    a Jetpack Feature, so that you never have to restart Firefox due
    to errant event handlers.</p>

    <div class="example">
function removeEmbeds(doc){
  $(doc).find("embed").remove();
}

jetpack.statusBar.append({
  html: 'Boom?<input type="checkbox">',
  width: 70,
  onReady: function(widget){
    $("input", widget).click(function(){
      if( this.checked ){
        jetpack.tabs.onReady( removeEmbeds );
        removeEmbeds(jetpack.tabs.focused.contentDocument);
      }
      else jetpack.tabs.onReady.unbind( removeEmbeds );
    });
  }
});</div>

    <p>One of the neat additions we've made is how you remove an event
    handler. Instead of passing in a string, you just call the
    <code>unbind</code> function which is a property of the event
    handling function.</p>

    <h2>Chapter 4: Libraries</h2>

    <p>Reusable code is at the heart of any good API. That's why
    Jetpack includes a "standard library" of common web APIs. At the
    moment, we've only implemented a Twitter library. In the future,
    there should be many more, including the ability to import
    libraries not included with Jetpack by default. (And for
    developers to contribute their APIs for others to use.)</p>

    <p>Here's a simple Jetpack Feature that shows the Twitter library
    in use. It allows you to be notified of someone's latest
    Tweet.</p>

    <div class="example">
var twitter = jetpack.lib.twitter
var oldTweet = null;

function getTweet(){
  twitter.getTwitLatestStatus( "osunick", function(tweet){
    var newTweet = tweet.text;
    if( oldTweet != newTweet ){
      jetpack.notifications.show( newTweet );
      oldTweet = newTweet;
    }
  });
}

getTweet();
setInterval( getTweet, 1000*60 );
</div>

    <p>Jetpack is smart enough to clear any <code>setInterval</code>'s
    or <code>setTimeout</code>'s that you use when you refresh your
    Jetpack.</p>

    <p>For now, the easiest way to get documentation on the Twitter
    library is to read the <a
    href="file.html#index.html#content/js/twitter.js">commented
    source</a>.</p>

    <h2>Chapter 5: Email Notifier</h2>

    <p>Putting it all together, you should now be able to be able to
    read through the following example, which displays the number of
    unread emails in your inbox. The only new API calls here are
    <code>jetpack.tabs.open(url)</code> and
    <code>tab.focus()</code>.</p>

    <div class="example">
function GmailNotifier(doc){
  $(doc).click( this.goToInbox );
  this.update( doc );
  setInterval( function(){
    this.update(doc);
  }, 60*1000 );
}

GmailNotifier.prototype = {
  goToInbox: function(){
    jetpack.tabs.open("http://mail.google.com");
    jetpack.tabs[ Jetpack.tabs.length-1 ].focus();
  },
  
  update: function(doc){
    var url = "http://mail.google.com/mail/feed/atom";
    doc = $(doc);
    $.get( url, function(xml){
      var el = $(xml).find("fullcount"); // Unread message count

      if( el ){
        var count = el.get(0).textContent;
        doc.find("#count").text( count );
      }
      else{
        doc.find("#count").text( "Login" );
      }
    });
  }
}

jetpack.statusBar.append({
  html: '<img src="http://mail.google.com/mail/images/favicon.ico"/><span id="count"></span>',
  onReady: function(doc){
    var gmail = new GmailNotifier(doc);
    $("#count", doc).css({
      position: "absolute",
      left: 4, top: 8,
      fontSize: "10px",
      cursor: "pointer",
      backgroundColor: "rgba(255,255,255,.8)"
    });
  },
  width: 20
});</div>

    <h2>Chapter 6: The future</h2>

    <p>There's a lot more coming with Jetpack, so check back often. For now, make sure
      to check out the <span class="tab-link" name="api">API Reference</a>.</p>
  </div>

  <!-- API REFERENCE TAB -->

  <div id="api">
    <h2>API Reference</h2>
    <div class="developer-warnings"></div>
    <div class="warning">This API Reference
    is woefully incomplete, and could use some help. We'll be
    mirroring this documentation on a wiki soon to make revising the
    documentation as easy as possible.</div>
    <p>The following are available to all Jetpack features at the
    global scope.</p>
  </div>
</div>
</div>

<!-- MESSAGES -->

<div class="messages">
  <div class="installed-jetpacks">
    <p class="has-many">You have <span class="installed-count"></span>
    installed Jetpack Features.</p>
    <p class="has-1">You have one installed Jetpack Feature.</p>
    <p class="has-0">You have no installed Jetpack Features.</p>
  </div>
  <div class="click-to-edit">Click to run and edit the code.</div>
</div>

<!-- WARNINGS -->

<div class="warnings">
    <p id="old-firefox-version" class="warning">You appear to be running
    Firefox 3 or earlier, which means that any logging messages or
    errors produced by your Jetpacks will reference the wrong line numbers.
    This makes debugging Jetpacks difficult; please consider using <a
    href="http://www.mozilla.com/en-US/firefox/all-beta.html">Firefox 3.5
    Beta</a>.</p>
    <p id="firebug-not-found" class="warning">You either don't have the
    latest version of Firebug installed, or you don't have it enabled for
    this page, so all logging messages will appear in the <span
    class="logging-source"></span>. If you get <a
    href="http://getfirebug.com/releases/index.html">Firebug 1.4 Alpha</a>
    and enable it for this page, and then reload this page, all logging
    messages will be logged to the Firebug Console, where it's much easier
    to debug problems and inspect live objects.</p>
    <div id="firebug-caveats" class="warning">You appear to have Firebug
    installed, which is great, because you'll be able to easily debug
    problems and inspect live objects in the <span
    class="logging-source"></span>. However, please note that there's
    still a few rough edges in Jetpack's Firebug integration that you
    should be aware of:
    <ul>
      <li>Firebug seems to get confused if you have this page and another
      website with Firebug enabled in the same browser window. The safe
      and easy way to get around this is to just have this page open
      in its own browser window.</li>
      <li>Whenever you inspect live objects in Firebug, Firebug appears
      to hold on to those objects for the rest of your Firefox session,
      which means that you'll see object reference counts go up in
      the <span class="tab-link" name="memory">Memory Usage</span> area.</li>
    </ul>
    We apologize for these inconveniences and will be working with the
    Firebug team to resolve them soon.
    </div>
</div>

<!-- RAW API DOCUMENTATION -->

<div id="raw-api-documentation">
  <div name="jetpack" class="property">
    The <tt>jetpack</tt> namespace is available to all Jetpack
    Features, and is the main point of contact for Features with the
    rest of Firefox. The API is intended as a lightweight
    backwards-compatible facade to the underlying Mozilla platform,
    which means that if you write a Feature using the Jetpack library,
    you won't have to change your code as Firefox continues to evolve.
    <div name="statusBar" class="property">
      This object contains methods relevant to the status bar that
      appears at the bottom of the browser window. Note that the user
      has the option to disable the display of the status bar in
      Firefox's "View" menu.
      <div name="append" class="property">
        <div class="argument options" name="options">
          <span class="string" name="html">The initial HTML contents
          of the new status bar panel.</span>
          <span class="url" name="url">The URL of the status bar
          panel's HTML contents.</span>
          <span class="function" name="onReady">The callback function
          to invoke when the new panel is created on a status
          bar.</span>
        </div>
        This function adds a new panel to the status bar of all
        open browser windows. When any new browser windows open,
        the panel is automatically added to them as well.
        <p>
        The following example embeds an icon into the status bar that,
        when clicked, displays a notification message to the user.
        <div class="example">
jetpack.statusBar.append({
  html: '<img src="http://www.mozilla.org/favicon.ico">',
  width: 16,
  onReady: function(doc) {
    $(doc).find("img").click(function() {
      jetpack.notifications.show("hai2u");
      });
  }});
        </div>
        <p>
        Technically speaking, the status bar panel is an
        <tt>iframe</tt> element. While this comes at a relatively high
        resource cost, it also enables the full breadth of
        generativity that the Web has to offer. In the future, we may
        add additional parameters to this function allowing the
        addition of simpler, less resource-intensive elements such as
        static text labels and images.
      </div>
    </div>
    <div name="notifications" class="property">
      Eventually, this object will be the end-all be-all of easy
      communication with your users. Notification bars, transparent
      messages, Growls, doorknob messages, and so forth will all go
      through here. For now, it just has simple notifications.
      <div name="show" class="property">
        <div class="argument options" name="options">
          <span class="string" name="title">The title of the notification.</span>
          <span class="url" name="icon">The URL to the notification's icon.</span>
          <span class="string" name="body">The body of the notification.</span>
        </div>
        This function displays a simple notification message. On
        Windows and Linux it's a toaster notification, and on OS X
        it's a Growl message (if Growl is installed).  Instead of
        passing in an <tt>options</tt> object, the caller can simply
        pass in a string, which is used as the <tt>body</tt> argument.
        <p>
        The following example displays a message with a title, icon,
        and body.
        <div class="example">
jetpack.notifications.show({title: 'hai2u',
                            body: 'o hai.',
                            icon: 'http://www.mozilla.org/favicon.ico'});
         </div>
      </div>
    </div>
    <div name="tabs" class="property">
      <tt>jetpack.tabs</tt> is a <em>live array</em> with special
      tab-related properties.
      <div name="focused" class="property">
        The currently focused/active tab as a <tt>Tab</tt> object.
        <p>
        The following example displays the name of the currently
        focused tab.
        <div class="example">
jetpack.notifications.show(jetpack.tabs.focused.url);
        </div>
      </div>
      <a name="onReady" class="property" href="#tab-onReady"></a>
    </div>
  </div>
  <div name="console" class="property">
    This object is used to log messages to the <span
    class="logging-source"></span> for debugging purposes. Use the methods
    <tt>log</tt>, <tt>info</tt>, <tt>warn</tt>, and <tt>error</tt> to log
    messages of varying importance. All of these methods can take any
    number of arguments; all of the arguments are logged.
    <p>
    The following example logs some information to the console.
    <div class="example">
console.log('Hello from the Jetpack feature', this);
    </div>
  </div>
  <div name="setInterval" class="property">
    This function works just like the Web's <a
    href="https://developer.mozilla.org/En/Window.setInterval"><tt>window.setInterval</tt></a>
    function.
  </div>
  <div name="clearInterval" class="property">
    This function works just like the Web's <a
    href="https://developer.mozilla.org/En/Window.clearInterval"><tt>window.clearInterval</tt></a>
    function.
  </div>
  <div name="setTimeout" class="property">
    This function works just like the Web's <a
    href="https://developer.mozilla.org/En/Window.setTimeout"><tt>window.setTimeout</tt></a>
    function.
  </div>
  <div name="clearTimeout" class="property">
    This function works just like the Web's <a
    href="https://developer.mozilla.org/En/Window.clearTimeout"><tt>window.clearTimeout</tt></a>
    function.
  </div>
  <div name="jQuery" class="property">
    This is jQuery, a lightweight JavaScript library. For
    convenience, it's also available as the <tt>$</tt> function.
    <p>
    All Ajax requests made using jQuery are done using a cross-site
    <tt>XMLHttpRequest</tt> object.
    </p>
    For more information on jQuery, please consult the <a
    href="http://docs.jquery.com/Main_Page">jQuery Documentation</a>.
  </div>
  <div name="location" class="property">
    This string contains the URL representing the source code of
    the feature.
    <p>
    The following example logs the location to the console.
    <div class="example">
console.log(location);
    </div>
  </div>
  <div name="live array" class="glossary">
    A <em>live array</em> is an <tt>Array</tt> that represents some
    aspect of system state and has no mutator methods, and is
    effectively "read-only".  In particular, this includes
    <tt>Array.pop()</tt>, <tt>Array.push()</tt>,
    <tt>Array.reverse()</tt>, <tt>Array.shift()</tt>,
    <tt>Array.sort()</tt>, <tt>Array.splice()</tt>, and
    <tt>Array.unshift()</tt>.
    <p>
    While it's technically possible for the array indices of an
    <em>live array</em> to be modified, they shouldn't be.
  </div>
  <div name="tab-onReady" class="property">
    <div class="argument function" name="callback">The callback to
    call when the event is triggered.</div>
    A <em>live event binder</em> that is triggered whenever a
    <tt>Tab</tt> object's containing <em>HTML document</em>, or one
    of its sub-documents (e.g., an <tt>iframe</tt>), has finished
    loading its DOM.  At a purely technical level, this is triggered
    when the target document's <tt>DOMContentLoaded</tt> event is
    fired.
    <p>
    This binder method is available on <tt>Tab</tt> objects and the
    <tt>jetpack.tabs</tt> <em>live array</em>.
    <p>
    <em>Event handlers</em> registered with this event binder are
    passed the <em>HTML document</em> of the object that triggered
    the event.
    <p>
    The following example code uses the <tt>jetpack.tabs.onReady</tt>
    handler to display a notification message the next time the
    user visits a page.
   <div class="example">
jetpack.tabs.onReady(function onNextPage(doc) {
  if (!doc.defaultView.frameElement) {
    jetpack.notifications.show("Loaded " + doc.location.href);
    jetpack.tabs.onReady.unbind(onNextPage);
  }});
    </div>
  </div>
  <div name="html document" class="glossary">
    This is the standard DOM document object, which is commonly
    known within web pages as the <tt>document</tt> variable. If
    you need to access the web page's <tt>window</tt> object through
    its <tt>document</tt>, use <tt>document.defaultView</tt>.
  </div>
  <div name="event handlers" class="glossary">
    An <em>event handler</em> is just a function that is called
    whenever a particular event occurs. It's usually passed a single
    argument that contains specific information about the event that
    was triggered.
  </div>
  <div name="live event binder" class="glossary">
    A <em>live event binder</em> is a method of a parent object,
    usually beginning with the prefix <tt>on</tt>, which allows a
    client to be notified, via a callback function, whenever an event
    occurs on the parent object.
    <p>
    If the parent object is a <em>live array</em>, then the client is
    notified whenever the relevant event is fired on any member of the
    live array, <i>even if the member wasn't in the live array when
    the event binding was created</i>. For an example of this, see
    <tt>jetpack.tabs.onReady</tt>.
    <p>
    Every live event binder method itself has a method called
    <tt>unbind</tt>, which can be passed a callback to unbind. For an
    example, see <tt>jetpack.tabs.onReady</tt>.
  </div>
</div>

<!-- CODE -->

<!-- Jetpack Platform Foundation -->
<script src="js/init-extension.js"></script>
<script src="js/ext/jquery.js"></script>
<script src="js/jquery-setup.js"></script>
<script src="js/log.js"></script>
<script src="js/observe.js"></script>
<!-- Jetpack Libraries -->
<script src="js/status-bar-panel.js"></script>
<script src="js/twitter.js"></script>
<script src="js/timers.js"></script>
<script src="js/notifications.js"></script>
<script src="js/jetpack-library.js"></script>
<script src="js/jetpack-runtime.js"></script>
<!-- Test Framework and Suites -->
<script src="js/test.js"></script>
<script src="js/tests/test-log.js"></script>
<script src="js/tests/test-jetpack-library.js"></script>
<script src="js/tests/test-jetpack-runtime.js"></script>
<script src="js/tests/test-status-bar-panel.js"></script>
<!-- Page Interaction -->
<script src="js/ext/jquery.tabs.js"></script>
<script src="js/app.js"></script>
<!-- Code Editor -->
<script src="js/ext/io.js"></script>
<script src="js/editor.js"></script>

</body>
</html>
