<html>

<head>
  <base href="chrome://jetpack/content/"/>
  <base target="_blank"/>
  <link rel="stylesheet" type="text/css" media="all"
        href="css/index.css" />
  <link rel="icon" href="gfx/jetpack_32x32.png"/>
  <title>I am Jetpack.</title>
</head>

<body>
<div id="content">

<!-- MASTHEAD -->

<img src="gfx/jetpack.png"/><br/>  

<!-- TABS -->

<div id="container">
  <ul class="tabs">
    <li><a href="#welcome"><span>Welcome</span></a></li>
    <li><a href="#develop"><span>Develop</span></a></li>
    <li><a href="#installed"><span>Installed Features</span></a></li>
    <li><a href="#memory"><span>Memory Usage</span></a></li>
    <li><a href="#tests"><span>Test Suite</span></a></li>      
    <li><a href="#tutorial"><span>Tutorial</span></a></li>
    <li><a href="#api"><span>API Reference</span></a></li>
  </ul>  
  
  <!-- WELCOME TAB -->

  <div id="welcome">
    <h1>I am Jetpack. Welcome.</h1>
    <p><i>Exploring new ways to extend &amp; personalize the Web.</i></p>
    
    <p>The <a href="https://addons.mozilla.org">add-ons community for
      Firefox</a> is arguably one of the largest, most vibrant sources
      for innovation on the Web today.  If you want to affect people,
      to reach them and make a difference in their daily lives, the
      Firefox <a
      href="https://developer.mozilla.org/En/Developing_add-ons">add-ons
      platform</a> is hard to beat, with over
    <a
      href="http://blog.mozilla.com/addons/2008/11/19/1-billion-add-on-downloads/">one
      billion installs of Firefox add-ons to date</a>.
    </p>

    <p>However, we've only scratched the surface of its potential.</p>

    <p>Jetpack lets you build Firefox (and more!) extensions with the
      same skill-set you already know from building on the open Web:
      Javascript, HTML, and CSS. We've even got jQuery included by
      default to ease you into it.</p>
      
    <p>Make sure to visit the <a href="https://jetpack.mozillalabs.com/">Jetpack website</a>!</p>
      
    <h2>Demo Jetpack Features</h2>
    
    <ul>
      <li><a href="demos/videoSlide-install.html">Video Slide - Slide Bar Demo</a> &mdash; ~50 lines of code and html to save &lt;video&gt; elements (and embeds) into the SlideBar when clicking the icon. Videos that are currently playing will import without stopping for &lt;video&gt; elements -- yay <a href="http://openvideo.dailymotion.com/">OpenVideo</a>! Watch videos and check email or whatever you want at the same time!<br/><br/></li>
      <li><a href="https://jetpack.mozillalabs.com/demos/unad-install.html">UnAd - Content Filter Demo</a> &mdash; Demonstrates in ~80 lines of code how to build a Jetpack feature that can remove unwanted scripts, images, and iframes with a pretty UI for turning the feature on and off. It uses a blocklist created for AdBlock Plus.<br/><br/></li>
      <li><a
      href="https://jetpack.mozillalabs.com/demos/gmail-checker-install.html">Email Notifier - Status Bar Demo</a> &mdash; It's easy to make useful indicators, gauges, and ambient information displays when you have the full power of HTML and CSS. In this demo, we create a Gmail notifier in ~50 lines of code.</li>
    </ul>
  </div>
  
  
  <!-- DEVELOP TAB -->
  
  <div id="develop">
    <div class="developer-warnings"></div>
    <h2>Developing With Jetpack</h2>
    
    <p>If you want to create a Jetpack feature, use the editor
    below.</p> <p>Read the <span class="tab-link"
    name="tutorial">Tutorial</span> for a quick tour of the
    basics&mdash;or, if you prefer, check out the <span
    class="tab-link" name="api">API Reference</span>.</p>

    <div class="editor-widget" id="editor-widget-container"></div>    
    <p><span class="buttony" id="reload-editor-code">try out this
    code</span></p>

    <img src="gfx/jetpack_architecture.png" style="float: right;">
    <h2>About This Page</h2>
    <p>This page houses the <i>Jetpack Runtime</i>. All your Jetpacks
    are loaded into their own <i>Jetpack Contexts</i> within the
    Runtime, and you can even use Firebug to inspect their current
    state. Just try entering <code
    class="window-global">JetpackRuntime.contexts</code> in your
    Firebug console!</p>
    <p>As a result, the lifetime of your Jetpacks is tied to the
    lifetime of this page. When you reload this page, for instance, all
    your Jetpacks are reloaded. This means that the time between making
    a change to a Jetpack and seeing its effects is as small as
    possible&mdash;you never have to restart your browser.</p>
    <p>Because it only makes sense for one instance of Jetpack to exist
    at a time, this page is what developers call a <i>singleton</i>:
    only one instance of it can exist at once.  Try opening this URL in
    two tabs at once and see what happens!</p>
    <p>Finally, the Jetpack singleton always exists, since users
    obviously need to be able to use their Jetpacks without having
    Jetpack open in a tab.  If you close the Jetpack tab, it'll actually
    re-open in a hidden browser that you can't see.</p> 
    <h2>Modifying The Platform</h2>
    <p>If you want to hack on the Jetpack platform itself, the vast
    majority of it is contained in the <span class="buttony"
    id="this-page-source-code">source code for this page</span>. Just make
    local changes to the file or one of the scripts it refers to and
    reload this page.</p>
    <p>We've also got in-progress <a
    href="file.html#index.html">Platform Documentation</a> to help you
    understand how everything works.</p>
  </div>  
  
  <!-- INSTALLED FEATURES TAB -->
  
  <div id="installed">
    <h2>Your Jetpack Features</h2>
    <div class="summary"></div>
    <div id="installed-jetpacks" class="jetpack-list">
    </div>
    <div id="uninstalled-jetpacks" class="jetpack-list">
      <p>These are your recently-uninstalled Jetpack Features. You can
      reinstall them easily from here, or you can purge them from this
      list so they no longer clutter this page.</p>
    </div>
  </div>

  <!-- MEMORY USAGE TAB -->
  
  <div id="memory">
    <h2>Memory Usage</h2>
    <p>Below is a list of all live objects being tracked by Jetpack. If
    one of these numbers never goes down, then your Jetpack either has a
    memory leak or isn't using memory very effectively.</p>
    <div id="extension-weakrefs"></div>
    <p id="memory-usage-actions"p>
      <span class="buttony" id="force-gc">force garbage collection</span>
    </p>
  </div>
    
  <!-- TEST SUITE TAB -->
  
  <div id="tests">
    <h2>Test Suites</h2>
    <p>At the moment, you can run the <span class="buttony"
    id="run-tests">Jetpack platform test suite</span>. In the future,
    you'll be able to run the test suites for individual Jetpacks
    here.</p>
    <p>All output for the suites is sent to the <span
    class="logging-source"></span>.</p>    
  </div>

  <!-- TUTORIAL TAB -->
  
  <div id="tutorial">
    <div class="developer-warnings"></div>
    <div class="content"></div>
  </div>

  <!-- API REFERENCE TAB -->

  <div id="api">
    <h2>API Reference</h2>
    <div class="developer-warnings"></div>
    <div class="warning">This API Reference
    is woefully incomplete, and could use some help. We'll be
    mirroring this documentation on a wiki soon to make revising the
    documentation as easy as possible.</div>
  </div>
</div>
</div>

<!-- MESSAGES -->

<div class="messages">
  <div class="installed-jetpacks">
    <p class="has-many">You have <span class="installed-count"></span>
    installed Jetpack Features.</p>
    <p class="has-1">You have one installed Jetpack Feature.</p>
    <p class="has-0">You have no installed Jetpack Features.</p>
  </div>
  <div class="click-to-edit">Click to run and edit the code.</div>
</div>

<!-- WARNINGS -->

<div class="warnings">
    <p id="old-firefox-version" class="warning">You appear to be running
    Firefox 3 or earlier, which means that any logging messages or
    errors produced by your Jetpacks will reference the wrong line numbers.
    This makes debugging Jetpacks difficult; please consider using <a
    href="http://www.mozilla.com/en-US/firefox/all-beta.html">Firefox 3.5
    Beta</a>.</p>
    <p id="firebug-not-found" class="warning">You either don't have the
    latest version of Firebug installed, or you don't have it enabled for
    this page, so all logging messages will appear in the <span
    class="logging-source"></span>. If you get <a
    href="http://getfirebug.com/releases/index.html">Firebug 1.4 Alpha</a>
    and enable it for this page, and then reload this page, all logging
    messages will be logged to the Firebug Console, where it's much easier
    to debug problems and inspect live objects.</p>
    <div id="firebug-caveats" class="warning">You appear to have Firebug
    installed, which is great, because you'll be able to easily debug
    problems and inspect live objects in the <span
    class="logging-source"></span>. However, please note that there's
    still a few rough edges in Jetpack's Firebug integration that you
    should be aware of:
    <ul>
      <li>Firebug seems to get confused if you have this page and another
      website with Firebug enabled in the same browser window. The safe
      and easy way to get around this is to just have this page open
      in its own browser window.</li>
      <li>Whenever you inspect live objects in Firebug, Firebug appears
      to hold on to those objects for the rest of your Firefox session,
      which means that you'll see object reference counts go up in
      the <span class="tab-link" name="memory">Memory Usage</span> area.</li>
    </ul>
    We apologize for these inconveniences and will be working with the
    Firebug team to resolve them soon.
    </div>
</div>

<!-- RAW API DOCUMENTATION -->

<div id="raw-api-documentation">
</div>

<!-- CODE -->

<!-- Jetpack Platform Foundation -->
<script src="js/init-extension.js"></script>
<script src="js/ext/jquery.js"></script>
<script src="js/jquery-setup.js"></script>
<script src="js/log.js"></script>
<script src="js/observe.js"></script>
<!-- Jetpack Libraries and Runtime -->
<script src="js/miscellany.js" type="text/javascript;version=1.8"></script>
<script src="js/jetpack-environment.js"></script>
<script src="js/jetpack-runtime.js"></script>
<!-- Test Framework -->
<script src="js/test.js"></script>
<!-- Page Interaction -->
<script src="js/ext/jquery.tabs.js"></script>
<script src="js/app.js"></script>
<!-- Code Editor -->
<script src="js/ext/io.js"></script>
<script src="js/editor.js"></script>
<!-- JSBridge Integration -->
<script src="js/jsbridge.js"></script>
</body>
</html>
